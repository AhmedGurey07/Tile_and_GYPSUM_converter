<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shaffici Calculator</title>
    <!-- Load Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Use Inter font family */
        body {
            font-family: 'Inter', sans-serif;
        }
        
        /* Custom style for the dashed input/output boxes */
        .dashed-box {
            border: 2px dashed #3B82F6; /* blue-500 */
            background-image: repeating-linear-gradient(90deg, #3B82F6, #3B82F6 10px, transparent 10px, transparent 20px);
            background-size: 100% 2px;
            background-position: center;
            background-repeat: no-repeat;
            
            /* Simpler border for browsers that struggle with the above */
            border: 2px dashed #3B82F6;
        }
        
        /* Remove number input arrows */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type=number] {
            -moz-appearance: textfield;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <!-- App Container -->
    <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-xl w-full max-w-sm">
        
        <!-- Header Logo (Text version from image) -->
        <div class="text-center mb-6">
            <div class="flex justify-center items-center mb-1">
               <img src="logo.jpg">
            </div>
          <br>

        <!-- 60X60 Display Box -->
        <div class="border-2 border-blue-500 rounded-lg text-center py-3 px-5 font-bold text-xl text-gray-800 mb-6">
            CERAMIC 60X60
        </div>

        <!-- Main Editable Input -->
        <div class="mb-4">
            <label for="totalMeters" class="sr-only">Total Meters</label>
            <input 
                type="number" 
                id="totalMeters" 
                value="" 
                oninput="calculateBreakdown()"
                class="w-full py-3 px-5 text-center text-2xl font-bold text-gray-800 border-2 border-dashed border-blue-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-300"
                placeholder="Enter Meters"
            >
        </div>

        <!-- Read-only Results Grid -->
        <div class="grid grid-cols-[auto_1fr] gap-3 items-center">
            
            <!-- Falakad Row -->
            <label for="falakad_result" class="bg-white border-2 border-blue-500 rounded-lg py-3 px-4 font-semibold text-gray-800 text-center text-sm sm:text-base">
                Falakad
            </label>
            <input 
                type="text" 
                id="falakad_result" 
                readonly 
                class="w-full py-3 px-5 text-center text-2xl font-bold text-gray-800 border-2 border-dashed border-blue-500 rounded-lg bg-gray-50"
            >

            <!-- Cartoon Row -->
            <label for="cartoon_result" class="bg-white border-2 border-blue-500 rounded-lg py-3 px-4 font-semibold text-gray-800 text-center text-sm sm:text-base">
                Cartoon
            </label>
            <input 
                type="text" 
                id="cartoon_result" 
                readonly 
                class="w-full py-3 px-5 text-center text-2xl font-bold text-gray-800 border-2 border-dashed border-blue-500 rounded-lg bg-gray-50"
            >

            <!-- Firi Row -->
            <label for="firi_result" class="bg-white border-2 border-blue-500 rounded-lg py-3 px-4 font-semibold text-gray-800 text-center text-sm sm:text-base">
                Firi
            </label>
            <input 
                type="text" 
                id="firi_result" 
                readonly 
                class="w-full py-3 px-5 text-center text-2xl font-bold text-gray-800 border-2 border-dashed border-blue-500 rounded-lg bg-gray-50"
            >
        </div>

        <!-- BACK Link (now an <a> tag) -->
        <div class="mt-6">
            <a 
                href="60x60mainmenu.html" 
                class="bg-blue-500 hover:bg-blue-600 transition-colors text-white w-full py-3.5 rounded-lg font-bold text-lg tracking-wider block text-center"
            >
                BACK
            </a>
        </div>

    </div>

    <script>
        function calculateBreakdown() {
            // 1. Get user input
            let totalMeters = parseFloat(document.getElementById('totalMeters').value);
            
            // Handle empty or invalid input
            if (isNaN(totalMeters) || totalMeters < 0) {
                totalMeters = 0;
            }

            // 2. Define constants from your formula
            const METERS_PER_FALAKAD = 57.6;
            const METERS_PER_CARTOON = 1.44;
            const METERS_PER_FIRI = 0.36; // (1.44 / 4)

            // 3. Create a variable for the remainder
            let remainingMeters = totalMeters;

            // 4. Calculate Fal akad
            // Get the whole number of falakads
            let falakad_count = Math.floor(remainingMeters / METERS_PER_FALAKAD);
            // Get the meters left over
            remainingMeters = remainingMeters % METERS_PER_FALAKAD;
            
            // Add a small number (epsilon) to handle floating point errors
            // e.g., 60 % 0.96 might be 0.47999999999999, not 0.48
            remainingMeters = remainingMeters + 1e-9;

            // 5. Calculate Cartoon
            // Get the whole number of cartoons from the remaining meters
            let cartoon_count = Math.floor(remainingMeters / METERS_PER_CARTOON);
            // Get the meters left over
            remainingMeters = remainingMeters % METERS_PER_CARTOON;

            // 6. Calculate Firi
            // Use Math.round() on the last unit to clean up any tiny fractions left
            let firi_count = Math.round(remainingMeters / METERS_PER_FIRI);

            // 7. Display the results in the read-only fields
            document.getElementById('falakad_result').value = falakad_count;
            document.getElementById('cartoon_result').value = cartoon_count;
            document.getElementById('firi_result').value = firi_count;
        }

        // Run the calculation once when the page loads
        // to show the default values (from input '60')
        window.onload = function() {
            calculateBreakdown();
        };
    </script>

</body>
</html>